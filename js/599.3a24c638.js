"use strict";(self["webpackChunkhugofast"]=self["webpackChunkhugofast"]||[]).push([[599],{59708:function(t,a,e){e.d(a,{Z:function(){return h}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"aside"},[a("nav",[a("router-link",{attrs:{to:"/"}},[a("svg",{staticClass:"icon icon-tabler icon-tabler-home",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M5 12l-2 0l9 -9l9 9l-2 0"}}),a("path",{attrs:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}}),a("path",{attrs:{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"}})]),a("span",[t._v("首页")])]),a("router-link",{attrs:{to:"/list"}},[a("svg",{staticClass:"icon icon-tabler icon-tabler-align-box-left-top",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}}),a("path",{attrs:{d:"M9 13h-2"}}),a("path",{attrs:{d:"M13 10h-6"}}),a("path",{attrs:{d:"M11 7h-4"}})]),a("span",[t._v("列表")])]),a("router-link",{attrs:{to:"/publish"}},[a("svg",{staticClass:"icon icon-tabler icon-tabler-brand-vercel",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M3 19h18l-9 -15z"}})]),a("span",[t._v("发布")])]),a("router-link",{attrs:{to:"/setting"}},[a("svg",{staticClass:"icon icon-tabler icon-tabler-settings",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}}),a("path",{attrs:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}})]),a("span",[t._v("设置")])]),a("router-link",{attrs:{to:"/about"}},[a("svg",{staticClass:"icon icon-tabler icon-tabler-clipboard-text",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}}),a("path",{attrs:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}}),a("path",{attrs:{d:"M9 12h6"}}),a("path",{attrs:{d:"M9 16h6"}})]),a("span",[t._v("关于")])])],1)])},o=[],n={name:"Aside"},i=n,r=e(1001),l=(0,r.Z)(i,s,o,!1,null,null,null),h=l.exports},78177:function(t,a,e){e.d(a,{Z:function(){return h}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"header"},[a("div",{staticClass:"logo"},[t._v("Hugo 文章后台管理")]),a("div",{staticClass:"menu"},[[a("a-dropdown",{attrs:{trigger:["click"]}},[a("a",{staticClass:"ant-dropdown-link",on:{click:t=>t.preventDefault()}},[a("div",{staticClass:"settingAuthor"},[a("el-avatar",{attrs:{size:50,src:this.HugoFast_ME.avatar_url}})],1)]),a("a-menu",{staticStyle:{"min-width":"100px"},attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"0"},[a("span",[t._v(t._s(this.setting.name))])]),a("a-menu-item",{key:"1"},[a("span",{on:{click:t.refreshCache}},[t._v("刷新缓存")])]),a("a-menu-item",{key:"2"},[a("span",{on:{click:t.goSetting}},[t._v("个人设置")])]),a("a-menu-item",{key:"3"},[a("span",{on:{click:t.loginOut}},[t._v("退出登陆")])])],1)],1)]],2),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(a){t.dialogVisible=a}}},[a("span",[t._v("Github API 使用繁忙，请稍后再试。")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.dialogVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.loginOut}},[t._v("回到首页")])],1)])],1)},o=[],n={name:"TopHeader",data(){return{dialogVisible:!1,HugoFast_ME:"",setting:{domain:"",name:"",authorimg:""}}},methods:{refreshCache(){localStorage.removeItem("HugoFastBasicData"),localStorage.removeItem("HugoFastallData"),window.location.href="/#/list"},goSetting(){window.location.href="/#/setting"},loginOut(){localStorage.clear(),this.$router.push("/login")}},mounted(){const t=JSON.parse(localStorage.getItem("HugoFast_Setting"));""!=t&&(this.setting=JSON.parse(localStorage.getItem("HugoFast_Setting"))),this.HugoFast_ME=JSON.parse(localStorage.getItem("HugoFast_ME"))}},i=n,r=e(1001),l=(0,r.Z)(i,s,o,!1,null,null,null),h=l.exports},8599:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"layout"},[a("Aside"),a("div",{staticClass:"container list"},[a("TopHeader"),[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{attrs:{"data-sha":e.row.sha}},[t._v(t._s(e.row.name))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"edit-btn",attrs:{href:`/#/edit?name=${e.row.name}&sha=${e.row.sha}`}},[t._v("修改")]),a("a",{staticClass:"edit-btn",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.deletepost(e.row.name,e.row.sha)}}},[t._v("删除文章")])]}}])})],1)],a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalItems},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2)],1)},o=[],n=e(59708),i=e(78177),r=e(6154),l={name:"ListView",components:{Aside:n.Z,TopHeader:i.Z},data(){return{HugoFastghpToken:"",bloglistdir:"",loading:!0,githubrepo:"",BasicData:"",tableData:[],currentPage:1,pageSize:10,totalItems:0}},methods:{async loadData(){const t=JSON.parse(localStorage.getItem("HugoFastallData"));if(t){const a=(this.currentPage-1)*this.pageSize,e=a+this.pageSize;this.tableData=t.slice(a,e),this.loading=!1,this.totalItems=t.length}else r.Z.get("https://api.github.com/repos/"+this.githubrepo+"/contents/"+this.bloglistdir).then((t=>{const a=t.data,e=a.map((t=>{const a=t.name.slice(0,-3);return{...t,name:a}})),s=e.slice().reverse();localStorage.setItem("HugoFastallData",JSON.stringify(s));const o=(this.currentPage-1)*this.pageSize,n=o+this.pageSize;this.tableData=s.slice(o,n),this.loading=!1,this.totalItems=s.length})).catch((t=>{console.error(t)}))},handleSizeChange(t){this.pageSize=t,this.loadData()},handleCurrentChange(t){this.currentPage=t,this.loadData()},async deletepost(t,a){this.$message.warning("删除功能仍在开发中!")}},mounted(){this.bloglistdir=localStorage.getItem("bloglistdir"),this.githubrepo=localStorage.getItem("HugoFastRepoName"),this.HugoFastghpToken=localStorage.getItem("HugoFastghpToken"),this.loadData()}},h=l,c=e(1001),g=(0,c.Z)(h,s,o,!1,null,null,null),u=g.exports}}]);
//# sourceMappingURL=599.3a24c638.js.map